
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Элементы.guid.Видимость = Ветис.Настройки_ПоказыватьGuid();
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	
	ОбновитьОтборы();
	
КонецПроцедуры


&НаКлиенте
Процедура КомандаЗаполнить(Команда)
	
	ВетисХозяйственныеОперации.ЗаполнитьСправочникDistrict(ОтборСтрана);
	
	Элементы.Список.Обновить();
	
КонецПроцедуры


&НаКлиенте
Процедура СтранаОтборПриИзменении(Элемент)
	
	ОбновитьОтборы();
	
КонецПроцедуры

&НаКлиенте
Процедура ОтборСтранаНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	
	ВетисФормы.CountryФормаВыбора(ЭтаФорма, "ОтборСтранаОбработкаОповещения", СтандартнаяОбработка, ОтборСтрана);
	
КонецПроцедуры

&НаКлиенте
Процедура ОтборСтранаОбработкаОповещения(Результат, Параметр) Экспорт
	
	Если НЕ Результат = Неопределено Тогда
		ОтборСтрана = Результат;
		ОбновитьОтборы();
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ОтборРегионПриИзменении(Элемент)
	
	ОтборРегионИспользование = ЗначениеЗаполнено(ОтборРегион);
	
	ОбновитьОтборы();
	
КонецПроцедуры

&НаКлиенте
Процедура ОтборРегионИспользованиеПриИзменении(Элемент)
	
	ОтборРайонИспользование = ОтборРайонИспользование И ОтборРегионИспользование;
	
	ОбновитьОтборы();
	
КонецПроцедуры

&НаКлиенте
Процедура ОбновитьОтборы(пИмяСобытия = Неопределено)
	
	ВетисОбщегоНазначенияКлиентСервер.ДобавитьОтбор(Список.Отбор, "Страна", ОтборСтрана);
	
	ВетисОбщегоНазначенияКлиентСервер.ДобавитьОтбор(Список.Отбор, "Регион", ОтборРегион, , ОтборРегионИспользование);
	
КонецПроцедуры
